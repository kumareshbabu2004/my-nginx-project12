on:
  push:
    branches: [ "main" ]
    paths:
      - 'Dockerfile'
      - 'index.html'
      - 'version.txt'
      - '.github/workflows/docker-build.yml'
  pull_request:
    branches: [ "main" ]
    paths:
      - 'Dockerfile'
      - 'index.html'
      - 'version.txt'
      - '.github/workflows/docker-build.yml'

  workflow_dispatch:
    inputs:
      ROLLBACK_CHOICE:
         description: 'Do you want to rollback?'
         required: true
         type: choice
         options:
           - "no"
           - "yes"
      ROLLBACK_VERSION:
         description: 'If yes, enter version to rollback (e.g., v1.1.0)'
         required: false
